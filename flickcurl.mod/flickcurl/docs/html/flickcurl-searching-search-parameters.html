<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Search parameters</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Flickcurl Flickr API Manual">
<link rel="up" href="flickcurl-searching.html" title="Searching for Photos with Flickcurl">
<link rel="prev" href="flickcurl-searching.html" title="Searching for Photos with Flickcurl">
<link rel="next" href="flickcurl-searching-search-paging.html" title="Result paging parameters">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="flickcurl-searching.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="flickcurl-searching.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Flickcurl Flickr API Manual</th>
<td><a accesskey="n" href="flickcurl-searching-search-paging.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="section" title="Search parameters">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="flickcurl-searching-search-parameters"></a>Search parameters</h2></div></div></div>
<p>
The first step is to choose the parameters for the photos search -
such as search by tag, search by lat/long, search by license (or combinations).
There are lots of parameters that may be chosen and some of the values
are strings, some are numbers and some are from allowed sets (such as license
IDs or photo type).
</p>
<p>The 
<a class="link" href="flickcurl-section-photo.html#flickcurl-search-params" title="flickcurl_search_params">flickcurl_search_params</a>
struct is used to store these parameters and the reference documentation
contains all the details on the restrictions.
This structure has fields for all of the API search parameters that are
not specifically about the list of photos result - such as format,
number of results and paging (see below).
</p>
<p>
There are, however, several constraints on the fields used in a
search - some fields are cause expensive (i.e. slow) queries and
the web service requires them to be used with additional fields added to
make the query sufficiently <span class="emphasis"><em>selective</em></span>.  The
restrictions are recorded in the API documentation for the
<a class="link" href="flickcurl-section-photo.html#flickcurl-search-params" title="flickcurl_search_params">flickcurl_search_params</a>
struct as well as in the documentation for the search API calls.
</p>
<p>
Once the search parameters are chosen, they must be put into a
<a class="link" href="flickcurl-section-photo.html#flickcurl-search-params" title="flickcurl_search_params">flickcurl_search_params</a>
struct.  This struct must be initialised to default values with
<a class="link" href="flickcurl-section-photo.html#flickcurl-search-params-init" title="flickcurl_search_params_init ()">flickcurl_search_params_init()</a>
which initialises the struct from a previously
allocated piece of memory (or on the stack).
</p>
<p>
The following code fragment initialises the search parameters to
their defaults using the variable <code class="code">params</code> which is stored
on the stack.  This is freed when the program execution leaves the
current block or function.  Then the code sets three search
parameters - the <code class="code">user_id</code> set to <code class="code">me</code> which
makes the search return photos only for the calling user, sets
the <code class="code">tags</code> field to <code class="code">"kitten"</code> to perform a tag
search and then sets the <code class="code">sort</code>
to <code class="code">interestingness-desc</code> which asks that the results are
sorted by interestingness with the most interesting kitten photos that
the caller took first in the results.
</p>
<pre class="programlisting">
  flickcurl_search_params params;

  flickcurl_search_params_init(&amp;params);
  params.user_id = "me";
  params.tags = "kitten";
  params.sort = "interestingness-desc";
</pre>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>